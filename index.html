<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Button State Example</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        .pressed { 
            background-color: rgb(51, 93, 135);
            color: rgb(255, 255, 255); 
        }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel"> 

    const App = () => {
      
      const [videogames, setVideogames] = React.useState([])

      async function videogameApi(){
        let gameList = await fetch('http://localhost:22107/posts')
        let json_list = await gameList.json()

        setVideogames(json_list)
        console.log(json_list)
      }

      React.useEffect( () => {
        videogameApi()
      }, [])

      return (
        <div> 
            <h1> Videogame Blog </h1>
            <ul>
                {videogames.map((game, index) => {
                    return <li key={index} style={{ fontSize: '20px' }}>
                        {game.title}
                    </li>
                })}
            </ul>
        </div> 
      )
    }

    const root = ReactDOM.createRoot(document.getElementById('root'))
    root.render(<App />)

    </script>
</body>
</html>